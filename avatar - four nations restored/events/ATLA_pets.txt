namespace = pets

narrative_event = {
    id = pets.1
    is_triggered_only = yes
    desc = EVTDESCpets.1
    border = GFX_event_narrative_frame_diplomacy
    is_friendly = yes

    option = { # Fire Ferret
        name = "EVTOPTApets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_central_earth_kingdom
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petFireFerret
    }
    option = { # Winged Lemur
        name = "EVTOPTBpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_air_temples
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petWingedLemur
    }
    option = { # Cat
        name = "EVTOPTCpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                OR = {
                    region = world_greater_earth_kingdom
                    region = world_fire_isles
                }
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petCat
    }
    option = { # Dog
        name = "EVTOPTDpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_greater_earth_kingdom
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petDog
    }
    option = { # Goat Gorilla
        name = "EVTOPTEpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_southern_waters
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petGoatGorilla
    }
    option = { # Bear
        name = "EVTOPTFpets.1"
        trigger = {
            wealth = 2000
            primary_title = {
                region = world_greater_earth_kingdom
                tier = EMPEROR
            }
            NOT = { has_artifact_flag = pet }
            intrigue >= 25
        }
        wealth = -2000
        set_character_flag = looking_for_pet_bear
        character_event = { id=pets.2 days=28 random=10 }
    }
    option = { # Armadillo Lion
        name = "EVTOPTGpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_greater_earth_kingdom
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petArmadilloLion
    }
    option = { # Komodo Rhino
        name = "EVTOPTHpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_fire_isles
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petKomodoRhino
    }
    option = { # Catgator
        name = "EVTOPTIpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_the_swamp
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petCatgator
    }
    option = { # Arctic Camel
        name = "EVTOPTJpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_southern_waters
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petArcticCamel
    }
    option = { # Catbug
        name = "EVTOPTKpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_greater_earth_kingdom
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petCatbug
    }
    option = { # Giant Rhinoceros Beetle
        name = "EVTOPTLpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_si_wong
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petGiantRhinocerosBeetle
    }
    option = { # Buffalo Yak
        name = "EVTOPTMpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_northern_waters
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petBuffaloYak
    }
    option = { # Eel Hound
        name = "EVTOPTNpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_greater_earth_kingdom
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petEelHound
    }
    option = { # Ostrich Horse
        name = "EVTOPTOpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                OR = {
                    region = world_greater_earth_kingdom
                    region = world_fire_isles
                }
            }
            NOT = { has_artifact_flag = pet }
        }
        wealth = -100
        add_artifact = petOstrichHorse
    }
    option = { # Dragon
        name = "EVTOPTPpets.1"
        trigger = {
            wealth = 2000
            primary_title = {
                region = world_fire_isles
                OR = {
                    tier = DUKE
                    tier = KING
                    tier = EMPEROR
                }
            }
            intrigue >= 25 # Hard to get
            trait = innerflame # special
            NOT = { has_artifact_flag = pet }
        }
        wealth = -2000
        set_character_flag = looking_for_pet_dragon
        narrative_event = { pets.2 }
    }
    option = { # Polar Bear Dog
        name = "EVTOPTQpets.1"
        trigger = {
            wealth = 100
            primary_title = {
                region = world_southern_waters
            }
            NOT = { has_artifact_flag = pet }
        }
    }
    option = { # Cat Deer
        name = "EVTOPTRpets.1"
        trigger = {
            wealth = 2000
            intrigue >= 30 # Good luck asking something so sketchy
            learning >= 20 # Do you even know this should exist?
            NOT = { has_artifact_flag = pet }
        }
        wealth = -2000
        set_character_flag = looking_for_pet_catdeer
        character_event = { id=pets.2 days=28 random=10 }
    }
    option = { # Not enough money
        name = "EVTOPTSpets.1"
        trigger = {
            wealth < 100
            NOT = { has_artifact_flag = pet }
        }
    }
    option = { # do not want a pet
        name = "EVTOPTTpets.1"
        trigger = {
            wealth = 100
            NOT = { has_artifact_flag = pet }
        }
    }
    option = { # already have a pet
        name = "EVTOPTUpets.1"
        trigger = {
            has_artifact_flag = pet
        }
    }
}

narrative_event = { # Dealer needs to hunt down a rare pet
    id = pets.2
    is_triggered_only = yes
    desc = EVTDESCpets.2
    border = GFX_event_narrative_frame_diplomacy
    is_friendly = yes

    option = {
        name = "EVTOPTApets.2"
        random_list = {
            10 = {
                narrative_event = { id=pets.4 days=28 random=10 }
            }
            90 = {
                character_event = { id=pets.3 days=28 random=10 }
            }
        }
    }
}

character_event = { # Dealer lets user know they haven't found the pet yet
    id = pets.3
    is_triggered_only = yes
    desc = EVTDESCpets.3
    border = GFX_event_normal_frame_diplomacy
    is_friendly = yes
    option = {
        trigger = {
            has_character_flag = looking_for_pet_dragon
        }
        name = "EVTOPTApets.3"
        random_list = {
            10 = {
                narrative_event = { id=pets.4 days=28 random=10 }
            }
            90 = {
                character_event = { id=pets.3 days=28 random=10 }
            }
        }
    }
    option = {
        trigger = {
            has_character_flag = looking_for_pet_bear
        }
        name = "EVTOPTBpets.3"
        random_list = {
            10 = {
                narrative_event = { id=pets.4 days=28 random=10 }
            }
            90 = {
                character_event = { id=pets.3 days=28 random=10 }
            }
        }
    }
    option = {
        trigger = {
            has_character_flag = looking_for_pet_catdeer
        }
        name = "EVTOPTCpets.3"
        random_list = {
            10 = {
                narrative_event = { id=pets.4 days=28 random=10 }
            }
            90 = {
                character_event = { id=pets.3 days=28 random=10 }
            }
        }
    }
}

narrative_event = { # Dealer finds pet
    id = pets.4
    is_triggered_only = yes
    desc = EVTDESCpets.4
    border = GFX_event_narrative_frame_diplomacy
    is_friendly = yes
    option = {
        trigger = {
            has_character_flag = looking_for_pet_dragon
        }
        name = "EVTOPTApets.4"
        clr_character_flag = looking_for_pet_dragon
        add_artifact = petDragon
    }
    option = {
        name = "EVTOPTBpets.4"

        trigger = {
            has_character_flag = looking_for_pet_bear
        }
        clr_character_flag = looking_for_pet_bear
        add_artifact = petBear
    }
    option = {
        name = "EVTOPTCpets.4"
        trigger = {
            has_character_flag = looking_for_pet_catdeer
        }
        clr_character_flag = looking_for_pet_catdeer
        add_artifact = petCatDeer
    }
}

character_event = { # Pet Owner Dies & heir holds onto the pet for a bit
    id = pets.5
    is_triggered_only = yes
    desc = EVTDESCpets.5
    hide_window = yes

    option = {
        trigger = {
            has_artifact_flag = pet
        }
        current_heir = {
            character_event = { id=pets.6 days=100 random=200 }
        }
    }
    option = {
        trigger = {
            NOT = { has_artifact_flag = pet }
        }
    }
}

character_event = { # Pet dies
    id = pets.6
    is_triggered_only = yes
    desc = EVTDESCpets.6
    border = GFX_event_normal_frame_diplomacy

    option = { # Bury pet personally
        name = "EVTOPTApets.6"
        any_artifact = {
            limit = {
                OR = {
                    artifact_type = petFireFerret
                    artifact_type = petWingedLemur
                    artifact_type = petCat
                    artifact_type = petDog
                    artifact_type = petGoatGorilla
                    artifact_type = petBear
                    artifact_type = petArmadilloLion
                    artifact_type = petKomodoRhino
                    artifact_type = petCatgator
                    artifact_type = petArcticCamel
                    artifact_type = petCatbug
                    artifact_type = petGiantRhinocerosBeetle
                    artifact_type = petBuffaloYak
                    artifact_type = petEelHound
                    artifact_type = petOstrichHorse
                    artifact_type = petDragon
                    artifact_type = petPolarBearDog
                    artifact_type = petCatDeer
                }
            }
            destroy_artifact = yes
        }
    }

    option = { # have servants bury the pet
        name = "EVTOPTBpets.6"
        any_artifact = {
            limit = {
                OR = {
                    artifact_type = petFireFerret
                    artifact_type = petWingedLemur
                    artifact_type = petCat
                    artifact_type = petDog
                    artifact_type = petGoatGorilla
                    artifact_type = petBear
                    artifact_type = petArmadilloLion
                    artifact_type = petKomodoRhino
                    artifact_type = petCatgator
                    artifact_type = petArcticCamel
                    artifact_type = petCatbug
                    artifact_type = petGiantRhinocerosBeetle
                    artifact_type = petBuffaloYak
                    artifact_type = petEelHound
                    artifact_type = petOstrichHorse
                    artifact_type = petDragon
                    artifact_type = petPolarBearDog
                    artifact_type = petCatDeer
                }
            }
            destroy_artifact = yes
        }
    }
}
