decisions = {
found_healing_hut_north_decision = {
		only_playable = yes
		ai_check_interval = 12
		is_high_prio = yes
		
		potential = {
			holder_scope = {
			trait = waterbender
				OR = {
					religion = tui_and_la
					religion = tui_and_la_reformed
				}
			}
			NOT = { has_global_flag = healing_hut_north_founded }
		}

		allow = {
			piety = 250
			learning  = 12
			OR = {
				trait = competent_bender
				trait = powerful_bender
				trait = legendary_bender
				trait = master_bender
			}	
		}

		effect = {
			piety = -250
			add_trait = master_bender
			add_trait = healer
			narrative_event = { id = MNHHN.4454 }

			#custom_tooltip = { text = found_healing_hut_north }

			hidden_tooltip = {
				set_global_flag = healing_hut_north_founded
				join_society = healing_hut_north
				set_society_grandmaster = yes # Set character as Grand Master
				add_society_currency_massive_effect = yes
				create_character = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					female = yes
					trait = waterbender
					trait = competent_bender
					age = 18
				}
				new_character = { join_society = healing_hut_north }
				create_character = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					female = yes
					trait = waterbender
					trait = incompetent_bender
					age = 16
				}
				new_character = { join_society = healing_hut_north }
				create_character = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					female = yes
					trait = waterbender
					trait = competent_bender
					trait = healer
					age = 20
				}
				new_character = { join_society = healing_hut_north }
				create_character = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					female = yes
					trait = waterbender
					trait = competent_bender
					trait = healer
					age = 35
				}
				new_character = { join_society = healing_hut_north }
				create_character = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					female = yes
					trait = waterbender
					trait = competent_bender
					age = 12
				}
				new_character = { join_society = healing_hut_north }
				create_character = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					female = yes
					trait = waterbender
					trait = powerful_bender
					trait = healer
					age = 22
				}
				new_character = { join_society = healing_hut_north }
				create_character = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					female = yes
					trait = waterbender
					trait = competent_bender
					trait = healer
					age = 15
				}
				new_character = { join_society = healing_hut_north }
				create_character = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					female = yes
					trait = waterbender
					trait = incompetent_bender
					trait = healer
					age = 21
				}
				new_character = { join_society = healing_hut_north }
				create_character = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					female = yes
					trait = waterbender
					trait = incompetent_bender
					age = 10
				}
				new_character = { join_society = healing_hut_north }
				any_vassal = {
					limit = {
						ai = yes
						can_join_society = healing_hut_north
						is_within_diplo_range = ROOT
					}
					random = { chance = 35 join_society = healing_hut_north }
				}
				any_independent_ruler = {
					limit = {
						ai = yes
						can_join_society = healing_hut_north
						is_within_diplo_range = ROOT
					}
					random = { chance = 35 join_society = healing_hut_north }
				}
				any_player = {
					limit = {
						OR = {
							religion = tui_and_la
							religion = tui_and_la_reformed
						}
					}
					# narrative_event = { id = HF.23122 }
				}
			}
		}	
	}
}

targetted_decisions = {

	hhn_learn_healing = {
		ai_check_interval = 12
		is_in_society = yes
		
		potential = {
			NOT = { trait = incapable }
			is_in_society = yes
			trait = waterbender
			OR = {
				trait = healer
				trait = master_healer
			}
		}
		
		from_potential = {
			society_rank >= 1
			society_member_of = healing_hut_north
			NOT= {
				OR = { 
					trait = healer
					trait = master_healer
				}
			}
			NOT = { trait = incapable }
		}
		
		allow = {
			FROM = {
				has_society_currency_tiny_trigger = yes	###requires 50SocCur
				is_inaccessible_trigger = no
				prisoner = no
				in_command = no
			}
			is_inaccessible_trigger = no
			prisoner = no
			in_command = no
		}
		
		effect = {
			FROM = {
				add_trait = healer
				detract_society_currency_tiny_effect = yes	###lose 50SocCur
			}
		}
		
		ai_will_do = {
			factor = 1000
		}
	}
	
	hhn_teach_healing = {
		ai_check_interval = 12
		is_in_society = yes
		
		potential = {
			NOT = { trait = incapable }
			is_in_society = yes
			is_adult = no
			trait = waterbender
			NOR = { 
				trait = healer
				trait = master_healer
			}
		}
		
		from_potential = {
			society_rank >= 1
			society_member_of = healing_hut_north
			is_adult = yes
			OR = {
				trait = healer
				trait = master_healer
			}
			NOT = { trait = incapable }
		}
		
		allow = {
			FROM = {
				has_society_currency_tiny_trigger = yes	###requires 50SocCur
				is_inaccessible_trigger = no
				prisoner = no
				in_command = no
			}
			is_inaccessible_trigger = no
			prisoner = no
		}
		
		revoke_allowed = {
			always = no
		}
		
		effect = {
			FROM = {
				detract_society_currency_tiny_effect = yes	###lose 50SocCur
			}
			ROOT = {
				add_trait = healer
				if = {
					limit = {
						trait = competent_bender
					}
					remove_trait = competent_bender 
					add_trait = powerful_bender
				}
				if = {
					limit = {
						trait = incompetent_bender
					}
					remove_trait = incompetent_bender 
					add_trait = competent_bender
				}
				hidden_tooltip = {
					character_event = { id = MNSAK.5064 } 
				}
			}
		}
		
		ai_will_do = {
			factor = 1000
		}
	}
}